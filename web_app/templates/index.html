<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BetterHome Product Recommendations</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .form-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            border-radius: 8px;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .form-section h3 {
            color: #0d6efd;
            margin-bottom: 1.5rem;
            font-weight: 600;
        }
        .required::after {
            content: " *";
            color: red;
        }
        .logo-container {
            text-align: center;
            margin-bottom: 2rem;
        }
        .logo-container img {
            max-width: 200px;
            height: auto;
        }
        .page-header {
            background-color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .page-header h1 {
            color: #0d6efd;
            font-weight: 600;
            margin: 0;
        }
        .btn-primary {
            padding: 0.75rem 2rem;
            font-weight: 500;
        }
        .form-label {
            font-weight: 500;
            color: #495057;
        }
        .form-control, .form-select {
            border-radius: 6px;
        }
        .form-control:focus, .form-select:focus {
            box-shadow: 0 0 0 0.2rem rgba(13,110,253,0.15);
        }
    </style>
</head>
<body>
    <div class="page-header">
        <div class="container">
            <div class="logo-container">
                <img src="{{ url_for('static', filename='better_home_logo.png') }}" alt="BetterHome Logo">
            </div>
            <h1 class="text-center">Product Recommendations</h1>
        </div>
    </div>
    <div class="container py-4">
        <form action="/submit" method="POST" class="needs-validation" novalidate enctype="multipart/form-data">
            
            <!-- Personal Information -->
            <div class="form-section">
                <h3>Personal Information</h3>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="name" class="form-label required">Name</label>
                        <input type="text" class="form-control" id="name" name="name" required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="mobile" class="form-label required">Mobile Number (Preferably on WhatsApp)</label>
                        <input type="tel" class="form-control" id="mobile" name="mobile" required>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label required">E-mail</label>
                    <input type="email" class="form-control" id="email" name="email" required>
                </div>
                <div class="mb-3">
                    <label for="address" class="form-label required">Apartment Address</label>
                    <textarea class="form-control" id="address" name="address" rows="3" required></textarea>
                </div>
            </div>

            <!-- Budget and Family Information -->
            <div class="form-section">
                <h3>Budget and Family Information</h3>
                <div class="mb-3">
                    <label for="budget" class="form-label required">What is your overall budget for home appliances?</label>
                    <input type="number" class="form-control" id="budget" name="budget" required>
                </div>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <label for="adults" class="form-label required">Adults (between the age 18 to 50)</label>
                        <input type="number" class="form-control" id="adults" name="adults" required>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="elders" class="form-label required">Elders (above the age 60)</label>
                        <input type="number" class="form-control" id="elders" name="elders" required>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="kids" class="form-label required">Kids (below the age 18)</label>
                        <input type="number" class="form-control" id="kids" name="kids" required>
                    </div>
                </div>
            </div>

            <!-- Room Images Upload -->
            <div class="form-section">
                <h3>Room Images/Drawings</h3>
                <div class="mb-3">
                    <label for="room_images" class="form-label">Do you have any drawings of your home interior?</label>
                    <p class="text-muted">Upload up to 5 supported files: PDF, document, drawing, image, presentation, spreadsheet, or video. Max 10 MB per file.</p>
                    <input type="file" class="form-control" id="room_images" name="room_images" multiple accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.jpg,.jpeg,.png,.gif,.bmp,.dwg,.dxf,.mp4,.avi,.mov" onchange="validateFiles(this)">
                    <div class="invalid-feedback" id="fileError"></div>
                </div>
            </div>

            <!-- Room Information -->
            <div class="form-section">
                <h3>Room Information</h3>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="bedrooms" class="form-label required">Number of bedrooms</label>
                        <select class="form-select" id="bedrooms" name="bedrooms" required>
                            <option value="2">2</option>
                            <option value="3">3</option>
                        </select>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="bathrooms" class="form-label required">Number of bathrooms</label>
                        <select class="form-select" id="bathrooms" name="bathrooms" required>
                            <option value="2">2</option>
                            <option value="3">3</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Hall Requirements -->
            <div class="form-section">
                <h3>Hall Requirements</h3>
                <div class="mb-3">
                    <label for="hall_fans" class="form-label required">Hall: Fan(s)?</label>
                    <select class="form-select" id="hall_fans" name="hall_fans" required>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="hall_ac" class="form-label required">Hall: Air Conditioner (AC)?</label>
                    <select class="form-select" id="hall_ac" name="hall_ac" required>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="hall_color" class="form-label required">Hall: Colour theme?</label>
                    <select class="form-select" id="hall_color" name="hall_color" required>
                        <option value="">Select color theme</option>
                        <option value="White">White</option>
                        <option value="Brown">Brown</option>
                        <option value="Grey">Grey</option>
                        <option value="Blue">Blue</option>
                        <option value="Green">Green</option>
                        <option value="Yellow">Yellow</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="hall_square_feet" class="form-label">Hall: What is the square feet?</label>
                    <input type="text" class="form-control" id="hall_square_feet" name="hall_square_feet">
                </div>
                <div class="mb-3">
                    <label for="hall_other_info" class="form-label">Hall: Any other information?</label>
                    <textarea class="form-control" id="hall_other_info" name="hall_other_info" rows="2"></textarea>
                </div>
            </div>

            <!-- Kitchen Requirements -->
            <div class="form-section">
                <h3>Kitchen Requirements</h3>
                <div class="mb-3">
                    <label class="form-label required">Kitchen: Chimney width?</label>
                    <div>
                        <input type="radio" id="chimney_60" name="kitchen_chimney" value="60 cm" required>
                        <label for="chimney_60">60 cm</label>
                    </div>
                    <div>
                        <input type="radio" id="chimney_75" name="kitchen_chimney" value="75 cm">
                        <label for="chimney_75">75 cm</label>
                    </div>
                    <div>
                        <input type="radio" id="chimney_90" name="kitchen_chimney" value="90 cm">
                        <label for="chimney_90">90 cm</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label required">Kitchen: Gas stove type?</label>
                    <div>
                        <input type="radio" id="stove_cooktop" name="kitchen_stove" value="Cooktop" required>
                        <label for="stove_cooktop">Cooktop</label>
                    </div>
                    <div>
                        <input type="radio" id="stove_hob" name="kitchen_stove" value="Hob (built-in) - placed inside">
                        <label for="stove_hob">Hob (built-in) - placed inside</label>
                    </div>
                    <div>
                        <input type="radio" id="stove_not_needed" name="kitchen_stove" value="Not needed">
                        <label for="stove_not_needed">Not needed</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="kitchen_burners" class="form-label required">Kitchen: Number of burners?</label>
                    <div>
                        <input type="radio" id="kitchen_burners_3" name="kitchen_burners" value="3" required>
                        <label for="kitchen_burners_3">3</label>
                    </div>
                    <div>
                        <input type="radio" id="kitchen_burners_4" name="kitchen_burners" value="4">
                        <label for="kitchen_burners_4">4</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Kitchen: Stove width?</label>
                    <div>
                        <input type="radio" id="kitchen_stove_width_60" name="kitchen_stove_width" value="60 cm">
                        <label for="kitchen_stove_width_60">60 cm</label>
                    </div>
                    <div>
                        <input type="radio" id="kitchen_stove_width_75" name="kitchen_stove_width" value="75 cm">
                        <label for="kitchen_stove_width_75">75 cm</label>
                    </div>
                    <div>
                        <input type="radio" id="kitchen_stove_width_90" name="kitchen_stove_width" value="90 cm">
                        <label for="kitchen_stove_width_90">90 cm</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="kitchen_fan" class="form-label required">Kitchen: Do you need a small fan?</label>
                    <select class="form-select" id="kitchen_fan" name="kitchen_fan" required>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label class="form-label">Kitchen: Dishwasher capacity?</label>
                    <div>
                        <input type="radio" id="dishwasher_14" name="kitchen_dishwasher_capacity" value="14 place sittings">
                        <label for="dishwasher_14">14 place sittings</label>
                    </div>
                    <div>
                        <input type="radio" id="dishwasher_15" name="kitchen_dishwasher_capacity" value="15 place sittings">
                        <label for="dishwasher_15">15 place sittings</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Kitchen: Refrigerator type?</label>
                    <div>
                        <input type="radio" id="fridge_double_top" name="kitchen_refrigerator_type" value="Double door - top freezer">
                        <label for="fridge_double_top">Double door - top freezer</label>
                    </div>
                    <div>
                        <input type="radio" id="fridge_double_bottom" name="kitchen_refrigerator_type" value="Double door - bottom freezer">
                        <label for="fridge_double_bottom">Double door - bottom freezer</label>
                    </div>
                    <div>
                        <input type="radio" id="fridge_side_by_side" name="kitchen_refrigerator_type" value="Side by Side">
                        <label for="fridge_side_by_side">Side by Side</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Kitchen: Refrigerator capacity?</label>
                    <div>
                        <input type="radio" id="fridge_capacity_250_300" name="kitchen_refrigerator_capacity" value="250 to 300 litres">
                        <label for="fridge_capacity_250_300">250 to 300 litres</label>
                    </div>
                    <div>
                        <input type="radio" id="fridge_capacity_300_400" name="kitchen_refrigerator_capacity" value="300 to 400 litres">
                        <label for="fridge_capacity_300_400">300 to 400 litres</label>
                    </div>
                    <div>
                        <input type="radio" id="fridge_capacity_400_600" name="kitchen_refrigerator_capacity" value="400 to 600 litres">
                        <label for="fridge_capacity_400_600">400 to 600 litres</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="kitchen_other_info" class="form-label">Kitchen: Do you need any other appliances or do you have any other information?</label>
                    <textarea class="form-control" id="kitchen_other_info" name="kitchen_other_info" rows="2"></textarea>
                </div>
            </div>

            <!-- Master Bedroom Requirements -->
            <div class="form-section">
                <h3>Master Bedroom Requirements</h3>
                <div class="mb-3">
                    <label for="master_ac" class="form-label required">Master: Air Conditioner (AC)?</label>
                    <select class="form-select" id="master_ac" name="master_ac" required>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label class="form-label required">Master: How do you mix the hot & cold water for bathing? (Helps to determine the capacity for the water heater.)</label>
                    <div>
                        <input type="radio" id="master_water_shower" name="master_water" value="Shower" required>
                        <label for="master_water_shower">Shower</label>
                    </div>
                    <div>
                        <input type="radio" id="master_water_bucket" name="master_water" value="Bucket">
                        <label for="master_water_bucket">Bucket (typically 20 litres)</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label required">Master: Exhaust fan size?</label>
                    <div>
                        <input type="radio" id="master_exhaust_150" name="master_exhaust_size" value="150mm" required>
                        <label for="master_exhaust_150">150mm</label>
                    </div>
                    <div>
                        <input type="radio" id="master_exhaust_200" name="master_exhaust_size" value="200mm">
                        <label for="master_exhaust_200">200mm</label>
                    </div>
                    <div>
                        <input type="radio" id="master_exhaust_250" name="master_exhaust_size" value="250mm">
                        <label for="master_exhaust_250">250mm</label>
                    </div>
                    <div>
                        <input type="radio" id="master_exhaust_unknown" name="master_exhaust_size" value="I Don't Know">
                        <label for="master_exhaust_unknown">I Don't Know</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Master: Exhaust fan colour?</label>
                    <div>
                        <input type="radio" id="master_exhaust_white" name="master_exhaust_color" value="White">
                        <label for="master_exhaust_white">White</label>
                    </div>
                    <div>
                        <input type="radio" id="master_exhaust_black" name="master_exhaust_color" value="Black">
                        <label for="master_exhaust_black">Black</label>
                    </div>
                    <div>
                        <input type="radio" id="master_exhaust_brown" name="master_exhaust_color" value="Brown">
                        <label for="master_exhaust_brown">Brown</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="master_color" class="form-label required">Master: What is the colour theme?</label>
                    <select class="form-select" id="master_color" name="master_color" required>
                        <option value="">Select color theme</option>
                        <option value="White">White</option>
                        <option value="Brown">Brown</option>
                        <option value="Grey">Grey</option>
                        <option value="Blue">Blue</option>
                        <option value="Green">Green</option>
                        <option value="Yellow">Yellow</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="master_area" class="form-label">Master: What is the area of the bedroom in square feet?</label>
                    <input type="text" class="form-control" id="master_area" name="master_area">
                </div>
                <div class="mb-3">
                    <label for="master_bathroom_for_elders" class="form-label">Master: Do you want a Glass Partition in the bathroom?</label>
                    <select class="form-select" id="master_bathroom_for_elders" name="master_bathroom_for_elders">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="master_water_heater_ceiling" class="form-label">Master: Is the water heater going to be inside the false ceiling in the bathroom?</label>
                    <select class="form-select" id="master_water_heater_ceiling" name="master_water_heater_ceiling">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="master_led_mirror" class="form-label">Master: Would you like to have a LED Mirror?</label>
                    <select class="form-select" id="master_led_mirror" name="master_led_mirror">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="master_other_info" class="form-label">Master: Any other information?</label>
                    <textarea class="form-control" id="master_other_info" name="master_other_info" rows="2"></textarea>
                </div>
            </div>

            <!-- Bedroom 2 Requirements -->
            <div class="form-section">
                <h3>Bedroom 2 Requirements</h3>
                <div class="mb-3">
                    <label for="bedroom2_ac" class="form-label required">Bedroom 2: Air Conditioner (AC)?</label>
                    <select class="form-select" id="bedroom2_ac" name="bedroom2_ac" required>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label class="form-label required">Master: How do you mix the hot & cold water for bathing? (Helps to determine the capacity for the water heater.)</label>
                    <div>
                        <input type="radio" id="bedroom2_water_shower" name="bedroom2_water" value="Shower" required>
                        <label for="bedroom2_water_shower">Shower</label>
                    </div>
                    <div>
                        <input type="radio" id="bedroom2_water_bucket" name="bedroom2_water" value="Bucket">
                        <label for="bedroom2_water_bucket">Bucket (typically 20 litres)</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label required">Bedroom 2: Exhaust fan size?</label>
                    <div>
                        <input type="radio" id="bedroom2_exhaust_150" name="bedroom2_exhaust_size" value="150mm" required>
                        <label for="bedroom2_exhaust_150">150mm</label>
                    </div>
                    <div>
                        <input type="radio" id="bedroom2_exhaust_200" name="bedroom2_exhaust_size" value="200mm">
                        <label for="bedroom2_exhaust_200">200mm</label>
                    </div>
                    <div>
                        <input type="radio" id="bedroom2_exhaust_250" name="bedroom2_exhaust_size" value="250mm">
                        <label for="bedroom2_exhaust_250">250mm</label>
                    </div>
                    <div>
                        <input type="radio" id="bedroom2_exhaust_unknown" name="bedroom2_exhaust_size" value="I Don't Know">
                        <label for="bedroom2_exhaust_unknown">I Don't Know</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Bedroom 2: Exhaust fan colour?</label>
                    <div>
                        <input type="radio" id="bedroom2_exhaust_white" name="bedroom2_exhaust_color" value="White">
                        <label for="bedroom2_exhaust_white">White</label>
                    </div>
                    <div>
                        <input type="radio" id="bedroom2_exhaust_black" name="bedroom2_exhaust_color" value="Black">
                        <label for="bedroom2_exhaust_black">Black</label>
                    </div>
                    <div>
                        <input type="radio" id="bedroom2_exhaust_brown" name="bedroom2_exhaust_color" value="Brown">
                        <label for="bedroom2_exhaust_brown">Brown</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="bedroom2_color" class="form-label required">Bedroom 2: What is the colour theme?</label>
                    <select class="form-select" id="bedroom2_color" name="bedroom2_color" required>
                        <option value="">Select color theme</option>
                        <option value="White">White</option>
                        <option value="Brown">Brown</option>
                        <option value="Grey">Grey</option>
                        <option value="Blue">Blue</option>
                        <option value="Green">Green</option>
                        <option value="Yellow">Yellow</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="bedroom2_area" class="form-label">Bedroom 2: What is the area of the bedroom in square feet?</label>
                    <input type="text" class="form-control" id="bedroom2_area" name="bedroom2_area">
                </div>
                <div class="mb-3">
                    <label for="bedroom2_for_kids" class="form-label">Bedroom 2: Is this room for kids?</label>
                    <select class="form-select" id="bedroom2_for_kids" name="bedroom2_for_kids">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="bedroom2_water_heater_ceiling" class="form-label">Bedroom 2: Is the water heater going to be inside the false ceiling in the bathroom?</label>
                    <select class="form-select" id="bedroom2_water_heater_ceiling" name="bedroom2_water_heater_ceiling">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="bedroom2_bathroom_for_elders" class="form-label">Bedroom 2: Do you want a Glass Partition in the bathroom?</label>
                    <select class="form-select" id="bedroom2_bathroom_for_elders" name="bedroom2_bathroom_for_elders">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="bedroom2_led_mirror" class="form-label">Bedroom 2: Would you like to have a LED Mirror?</label>
                    <select class="form-select" id="bedroom2_led_mirror" name="bedroom2_led_mirror">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="bedroom2_other_info" class="form-label">Bedroom 2: Any other information?</label>
                    <textarea class="form-control" id="bedroom2_other_info" name="bedroom2_other_info" rows="2"></textarea>
                </div>
            </div>

            <!-- Bedroom 3 Requirements -->
            <div class="form-section" id="bedroom3-section" style="display: none;">
                <h3>Bedroom 3 Requirements</h3>
                <div class="mb-3">
                    <label for="bedroom3_ac" class="form-label">Bedroom 3: Air Conditioner (AC)?</label>
                    <select class="form-select" id="bedroom3_ac" name="bedroom3_ac">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label class="form-label">Master: How do you mix the hot & cold water for bathing? (Helps to determine the capacity for the water heater.)</label>
                    <div>
                        <input type="radio" id="bedroom3_water_shower" name="bedroom3_water" value="Shower">
                        <label for="bedroom3_water_shower">Shower</label>
                    </div>
                    <div>
                        <input type="radio" id="bedroom3_water_bucket" name="bedroom3_water" value="Bucket">
                        <label for="bedroom3_water_bucket">Bucket (typically 20 litres)</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Bedroom 3: Exhaust fan size?</label>
                    <div>
                        <input type="radio" id="bedroom3_exhaust_150" name="bedroom3_exhaust_size" value="150mm">
                        <label for="bedroom3_exhaust_150">150mm</label>
                    </div>
                    <div>
                        <input type="radio" id="bedroom3_exhaust_200" name="bedroom3_exhaust_size" value="200mm">
                        <label for="bedroom3_exhaust_200">200mm</label>
                    </div>
                    <div>
                        <input type="radio" id="bedroom3_exhaust_250" name="bedroom3_exhaust_size" value="250mm">
                        <label for="bedroom3_exhaust_250">250mm</label>
                    </div>
                    <div>
                        <input type="radio" id="bedroom3_exhaust_unknown" name="bedroom3_exhaust_size" value="I Don't Know">
                        <label for="bedroom3_exhaust_unknown">I Don't Know</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label class="form-label">Bedroom 3: Exhaust fan colour?</label>
                    <div>
                        <input type="radio" id="bedroom3_exhaust_white" name="bedroom3_exhaust_color" value="White">
                        <label for="bedroom3_exhaust_white">White</label>
                    </div>
                    <div>
                        <input type="radio" id="bedroom3_exhaust_black" name="bedroom3_exhaust_color" value="Black">
                        <label for="bedroom3_exhaust_black">Black</label>
                    </div>
                    <div>
                        <input type="radio" id="bedroom3_exhaust_brown" name="bedroom3_exhaust_color" value="Brown">
                        <label for="bedroom3_exhaust_brown">Brown</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="bedroom3_color" class="form-label">Bedroom 3: What is the colour theme?</label>
                    <select class="form-select" id="bedroom3_color" name="bedroom3_color">
                        <option value="">Select color theme</option>
                        <option value="White">White</option>
                        <option value="Brown">Brown</option>
                        <option value="Grey">Grey</option>
                        <option value="Blue">Blue</option>
                        <option value="Green">Green</option>
                        <option value="Yellow">Yellow</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="bedroom3_area" class="form-label">Bedroom 3: What is the area of the bedroom in square feet?</label>
                    <input type="text" class="form-control" id="bedroom3_area" name="bedroom3_area">
                </div>
                <div class="mb-3">
                    <label for="bedroom3_for_kids" class="form-label">Bedroom 3: Is this room for kids?</label>
                    <select class="form-select" id="bedroom3_for_kids" name="bedroom3_for_kids">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="bedroom3_water_heater_ceiling" class="form-label">Bedroom 3: Is the water heater going to be inside the false ceiling in the bathroom?</label>
                    <select class="form-select" id="bedroom3_water_heater_ceiling" name="bedroom3_water_heater_ceiling">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="bedroom3_bathroom_for_elders" class="form-label">Bedroom 3: Do you want a Glass Partition in the bathroom?</label>
                    <select class="form-select" id="bedroom3_bathroom_for_elders" name="bedroom3_bathroom_for_elders">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="bedroom3_led_mirror" class="form-label">Bedroom 3: Would you like to have a LED Mirror?</label>
                    <select class="form-select" id="bedroom3_led_mirror" name="bedroom3_led_mirror">
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="bedroom3_other_info" class="form-label">Bedroom 3: Any other information?</label>
                    <textarea class="form-control" id="bedroom3_other_info" name="bedroom3_other_info" rows="2"></textarea>
                </div>
            </div>

            <!-- Laundry Requirements -->
            <div class="form-section">
                <h3>Laundry Requirements</h3>
                <div class="mb-3">
                    <label class="form-label required">Laundry: Washing Machine?</label>
                    <div>
                        <input type="radio" id="laundry_washing_front" name="laundry_washing" value="Front-Load" required>
                        <label for="laundry_washing_front">Front-Load</label>
                    </div>
                    <div>
                        <input type="radio" id="laundry_washing_top" name="laundry_washing" value="Top-Load">
                        <label for="laundry_washing_top">Top-Load</label>
                    </div>
                    <div>
                        <input type="radio" id="laundry_washing_semi" name="laundry_washing" value="Semi-Automatic">
                        <label for="laundry_washing_semi">Semi-Automatic</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="laundry_dryer" class="form-label required">Laundry: Dryer?</label>
                    <select class="form-select" id="laundry_dryer" name="laundry_dryer" required>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
            </div>

            <!-- Dining Room Requirements -->
            <div class="form-section">
                <h3>Dining Room Requirements</h3>
                <div class="mb-3">
                    <label for="dining_fan" class="form-label required">Dining: Fan</label>
                    <p class="text-muted">It is good to use the same model and colour of the fan used in the living room for the dining area for uniformity.</p>
                    <div>
                        <input type="radio" id="dining_fan_small" name="dining_fan" value="60 CM" required>
                        <label for="dining_fan_small">Small - 60 CM</label>
                    </div>
                    <div>
                        <input type="radio" id="dining_fan_large" name="dining_fan" value="120 CM">
                        <label for="dining_fan_large">Large - 120 CM</label>
                    </div>
                </div>
                <div class="mb-3">
                    <label for="dining_ac" class="form-label required">Dining: Air Conditioner (AC)?</label>
                    <select class="form-select" id="dining_ac" name="dining_ac" required>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="dining_color" class="form-label">Dining: Colour theme?</label>
                    <select class="form-select" id="dining_color" name="dining_color">
                        <option value="">Select color theme</option>
                        <option value="White">White</option>
                        <option value="Brown">Brown</option>
                        <option value="Grey">Grey</option>
                        <option value="Blue">Blue</option>
                        <option value="Green">Green</option>
                        <option value="Yellow">Yellow</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
            </div>

            <!-- Additional Information -->
            <div class="form-section">
                <h3>Additional Information</h3>
                <div class="mb-3">
                    <label for="other_info" class="form-label">Any other information?</label>
                    <textarea class="form-control" id="other_info" name="other_info" rows="3"></textarea>
                </div>
                <div class="mb-3">
                    <label for="questions_comments" class="form-label">Questions and comments</label>
                    <textarea class="form-control" id="questions_comments" name="questions_comments" rows="3"></textarea>
                </div>
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-primary btn-lg" id="submitButton">
                    <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true" id="submitSpinner"></span>
                    <span id="submitText">Submit</span>
                </button>
            </div>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Form validation
        (function () {
            'use strict'
            var forms = document.querySelectorAll('.needs-validation')
            Array.prototype.slice.call(forms)
                .forEach(function (form) {
                    form.addEventListener('submit', function (event) {
                        console.log('Form submission attempted');
                        
                        // Get number of bedrooms
                        const bedrooms = document.getElementById('bedrooms').value;
                        console.log('Number of bedrooms:', bedrooms);
                        
                        // If 3 bedrooms, make Bedroom 3 fields required
                        const bedroom3Fields = document.querySelectorAll('#bedroom3-section input, #bedroom3-section select, #bedroom3-section textarea');
                        bedroom3Fields.forEach(field => {
                            if (bedrooms === '3') {
                                field.setAttribute('required', 'required');
                            } else {
                                field.removeAttribute('required');
                            }
                        });
                        
                        if (!form.checkValidity()) {
                            console.log('Form validation failed');
                            event.preventDefault()
                            event.stopPropagation()
                        } else {
                            console.log('Form validation passed, submitting...');
                            // Show loading indicator
                            document.getElementById('submitButton').disabled = true;
                            document.getElementById('submitButton').innerHTML = 'Generating Recommendations...';
                        }
                        form.classList.add('was-validated')
                    }, false)
                })
        })()

        // Add form submission event listener
        document.querySelector('form').addEventListener('submit', function(event) {
            console.log('Form submit event triggered');
            // Log all form data
            const formData = new FormData(this);
            for (let pair of formData.entries()) {
                console.log(pair[0] + ': ' + pair[1]);
            }
        });

        // Enable submit button when any form field changes
        document.querySelectorAll('input, select, textarea').forEach(field => {
            field.addEventListener('change', function() {
                document.getElementById('submitButton').disabled = false;
                document.getElementById('submitButton').innerHTML = 'Generate Recommendations';
            });
        });

        // Also enable on input for text fields
        document.querySelectorAll('input[type="text"], input[type="email"], input[type="tel"], textarea').forEach(field => {
            field.addEventListener('input', function() {
                document.getElementById('submitButton').disabled = false;
                document.getElementById('submitButton').innerHTML = 'Generate Recommendations';
            });
        });

        document.getElementById('bedrooms').addEventListener('input', function() {
            var bedroom3Section = document.getElementById('bedroom3-section');
            if (this.value == '3') {
                bedroom3Section.style.display = 'block';
                // Make Bedroom 3 fields required when 3 bedrooms are selected
                const bedroom3Fields = document.querySelectorAll('#bedroom3-section input, #bedroom3-section select, #bedroom3-section textarea');
                bedroom3Fields.forEach(field => {
                    field.setAttribute('required', 'required');
                });
            } else {
                bedroom3Section.style.display = 'none';
                // Remove required attribute when less than 3 bedrooms
                const bedroom3Fields = document.querySelectorAll('#bedroom3-section input, #bedroom3-section select, #bedroom3-section textarea');
                bedroom3Fields.forEach(field => {
                    field.removeAttribute('required');
                });
            }
            // Enable submit button when bedrooms selection changes
            document.getElementById('submitButton').disabled = false;
            document.getElementById('submitButton').innerHTML = 'Generate Recommendations';
        });

        // File upload validation
        function validateFiles(input) {
            const maxFileSize = 10 * 1024 * 1024; // 10MB in bytes
            const maxFiles = 5;
            const fileError = document.getElementById('fileError');
            const submitButton = document.getElementById('submitButton');
            
            if (input.files.length > maxFiles) {
                fileError.textContent = `Please select no more than ${maxFiles} files.`;
                input.value = '';
                submitButton.disabled = true;
                return false;
            }
            
            for (let i = 0; i < input.files.length; i++) {
                if (input.files[i].size > maxFileSize) {
                    fileError.textContent = `File "${input.files[i].name}" exceeds the 10MB size limit.`;
                    input.value = '';
                    submitButton.disabled = true;
                    return false;
                }
            }
            
            fileError.textContent = '';
            submitButton.disabled = false;
            return true;
        }
    </script>
</body>
</html> 